<!doctype html>
<html>
<head>
  <title>Timeline</title>
  <script type="text/javascript" src="https://unpkg.com/vis-timeline@latest/standalone/umd/vis-timeline-graph2d.min.js"></script>
  <link href="https://unpkg.com/vis-timeline@latest/styles/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
  <style type="text/css">
    #visualization {
      width: 600px;
      height: 400px;
      border: 1px solid lightgray;
    }
  </style>
</head>
<body>
<div id="visualization" style="position: relative;">
<script type="text/javascript">
  // DOM element where the Timeline will be attached
  var container = document.getElementById('visualization');


  /*
     Read timeline data from Json: sanguoJson.json
     The attribute of json file:
     Name_cn	ID  Last_Name	Zi	Name_en	Affiliation	Birth_year	Death_year	Lifespan	Father	Father_ID	Native_place	Jun	Xian	Note
  */
  fetch('sanguoListJson.json')
    .then(response => response.json())
    .then(data => {
         var datalist = []
         // Each individual is a dict, with keys (attributes) and corresponding value
         // attributes of the data for timeline:
         // id, content, start, end, title, style(optional)
         
         data.forEach(element => {
          datalist.push({id: element[1], content: element[0], start: element[6], end: element[7], title: element[14] })
         });
           // TEST
          console.log("####", datalist[0])
          var items = new vis.DataSet(datalist);
          // Configuration for the Timeline
          var options = {
            width: '150%',
            height: '100%',
            //autoResize: false,
            //timeAxis: {scale: 'year', step: 1},
            verticalScroll: true
          };

          // Create a Timeline
          var timeline = new vis.Timeline(container, items, options);
    });

</script>
</body>
</html>